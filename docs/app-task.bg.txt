Задачка: да се разработи софтуер, който да взема решения за управлението на 2 помпи, клапан, електрически нагревател и термопомпена система на база информацията за температурата на околната среда и водата в инсталацията на няколко ключови места

Схема на хибридна отоплителна инсталация:

Инсталацията се състои котел на твърдо гориво, бойлер с две серпентини, източващ се слънчев колектор, термопомпена инсталация.
Налични са две помпи за вода - едната подава студената вода към входа на котела, а другата движи водата в слънчевия колектор.
Загряването на водата в бойлера е възможно чрез слънчевия колектор, водата от котела - чрез клапан, и директно чрез електрически нагревател.

Софтуера трябва да взема решения за управление на клапана, помпите, електрическият нагревател и изготвяне на команди за термопомпената система.

Целта е да се преследват 2 цели - желана температура на водата в бойлера и желана температура на водата, излизаща от котела.

За целевата температура на водата от котела система ще ползва таблица с междинни почасови температури, а крайната целева температура се изчислява като от междинната часова се извади температурата на околната среда.

Междинните температури по часове от 0 до 23 са както следва:
38, 36, 36, 36, 36, 38, 40, 40, 40, 40, 43, 43, 43, 43, 43, 43, 43, 43, 43, 43, 43, 43, 43, 40

Така, например при околна 5°C в 0 часа крайната целева става:
цел = 38 - 5
цел = 33°C 

При околна -5°C в 0 часа крайната целева става:
цел = 38 - (-5)
цел = 43°C 

Системата има информация относно мощността на всеки от елементите за управление, както и максимално позволена мощност (конфигуруема).

Целта на контролера е достигане на целевите температури по възможно най-икономичният начин.

Контролера трябва да прочита температурите от датчиците поне веднъж за минута, и или да съхранява тази информация локално, или да я изпраща на отдалечена система.

С цел вземане на по-добри управленски решения, отчитането на температурите може да става и по-често – стига датчиците да позволяват това.

Режими на работа на контролера:
• загряване на бойлера чрез панела;
• загряване на бойлера чрез котела;
• загряване на бойлера на ток;
• загряване на котелната инсталация чрез панела/бойлера;
• авариен топлопренос – клапана се отваря, помпата на колектора се активира
• авария котел:
  •- температурата на флуида, излизащ от котела е >= 80+°C – изпраща се съобщение;
  •- ако температурите на другите тела са в норма – активира се авариен топлопренос;
• авария бойлер:
  •- температурата на водата в бойлера е >= 88°C - изпраща се съобщение;
  •- ако температурите на другите тела са в норма – активира се авариен топлопренос;
• авария панел:
  •- температурата на флуида в колектора е >= 100°C - изпраща се съобщение;
  •- температурата на флуида в колектора е <= 5°C - изпраща се съобщение;
  •- ако температурите на другите тела са в норма – активира се авариен топлопренос;
• изключен/изчакване:
  •- исканата температура на водата в бойлера е достигната, няма аварии



